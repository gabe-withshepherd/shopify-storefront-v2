{% comment %}
  CTA Button Snippet
  Usage: {% render 'cta-button', url: '/pages/membership', text: 'OWN THE START' %}

  Parameters:
  - url: The URL the button should navigate to
  - text: The text to display on the button
  - icon: Optional icon to display (defaults to chevron-right)
  - class: Optional additional CSS classes
  - popover: Optional popover ID to trigger instead of navigation
{% endcomment %}

{% assign button_url = url | default: '#' %}
{% assign button_text = text | default: 'Click Here' %}
{% assign button_icon = icon | default: 'chevron-right' %}
{% assign button_class = class | default: '' %}
{% assign should_submit = should_submit | default: false %}

{% if popover %}
  <button
    type="button"
    class="cta-button js-modal-open-{{ popover }} {{ button_class }}"
    data-popover-target="{{ popover }}"
  >
    {{ button_text }}
    {% render 'custom-icons', icon: 'chevron-right' %}
  </button>
{% elsif should_submit %}
  <button type="submit" class="cta-button {{ button_class }}">
    {{ button_text }}
    {% render 'custom-icons', icon: button_icon %}
  </button>
{% else %}
  <a href="{{ button_url }}" class="cta-button {{ button_class }}">
    {{ button_text }}
    {% render 'custom-icons', icon: button_icon %}
  </a>
{% endif %}

<style>
  .cta-button {
    font-family: 'Barlow', sans-serif !important;
    display: inline-flex;
    align-items: center;
    background: #cb5c28;
    color: #fff !important;
    text-decoration: none;
    gap: 0.25rem;
    padding: clamp(6px, 0.6vw, 10px);
    border-radius: 2px;
    font-weight: 500;
    font-size: clamp(14px, 3vw, 1.2rem);
    letter-spacing: 0.03em;
    transition: background 0.3s ease, color 0.3s ease;
    border: 1px solid transparent;
    cursor: pointer;
    font-family: inherit;
  }

  .cta-button .icon {
    display: block;
    border-color: none;
    background-color: transparent;
    stroke: currentColor;
    fill: transparent;
    transition: transform 0.3s ease;
  }

  .cta-button:hover {
    background-color: #fff;
    color: #000 !important;
    border: 1px solid #000;
    text-decoration: none;
  }

  .cta-button:hover .icon {
    transform: translateX(3px) scale(1.1);
  }

  /* Variant classes for different styles */
  .cta-button--secondary {
    background: transparent;
    color: #cb5c28;
    border: 2px solid #cb5c28;
  }

  .cta-button--secondary:hover {
    background: #cb5c28;
    color: #fff;
  }

  .cta-button--white {
    background: #fff;
    color: #000;
  }

  .cta-button--white:hover {
    background: #f5f5f5;
    color: #000;
  }

  .cta-button--large {
    padding: clamp(12px, 1.2vw, 16px);
    font-size: clamp(16px, 3.5vw, 1.4rem);
  }

  .cta-button--small {
    padding: clamp(6px, 0.7vw, 10px);
    font-size: clamp(12px, 2.5vw, 1rem);
  }
</style>
